# 국내주식 뉴스 분석기

한국 주식 종목에 대한 뉴스를 수집하고 경제지표와 함께 분석하여 종합 리포트를 생성하는 시스템입니다.

## 주요 기능

### 1. 직접 뉴스 수집
- 매일경제 기사 크롤링
- 종목명과 기간을 입력받아 관련 뉴스 수집
- 캐싱 시스템으로 중복 수집 방지
- 중복 기사 자동 제거

### 2. 경제지표 수집
- 한국은행 ECOS Open API 연동
- 기준금리, 소비자물가지수, 환율 등 거시지표 수집
- API 키 미설정 시 모의 데이터 사용
- 증분 수집 및 캐싱 지원

### 3. 분석 및 리포트 생성
- 뉴스 감정 분석 (긍정/부정/중립)
- 신뢰도 평가 (공식발표/소문 구분)
- 거시지표와 연계한 종합 분석
- 한글 리포트 자동 생성

## 설치 및 설정

### 1. 의존성 설치
```bash
pip install -r requirements.txt
```

### 2. 환경 변수 설정
```bash
# .env.example 파일을 .env로 복사
cp .env.example .env

# .env 파일을 편집하여 실제 API 키 등을 설정
# ECOS_API_KEY=your_actual_api_key_here
```

### 3. 디렉토리 구조
```
jusik_information_analysis/
├── main.py                 # 메인 실행 파일
├── requirements.txt        # 의존성 패키지
├── .env.example           # 환경 변수 템플릿
├── project_plan.md        # 프로젝트 계획서
├── CLAUDE.md             # Claude Code 가이드
├── src/                  # 소스 코드
│   ├── __init__.py
│   ├── news_collector.py     # 뉴스 수집 모듈
│   ├── economic_indicators.py # 경제지표 수집 모듈
│   ├── analyzer.py          # 분석 엔진
│   ├── config.py           # 설정 관리
│   └── utils.py            # 유틸리티 함수
├── tests/                # 테스트 코드
│   ├── __init__.py
│   └── test_analyzer.py
├── cache/                # 캐시 저장소 (자동생성)
└── reports/              # 리포트 출력 (자동생성)
```

## 사용 방법

### 1. 기본 실행
```bash
python main.py
```

### 2. 함수 직접 호출
```python
from main import collect_and_analyze_stock, get_recent_analysis

# 특정 기간 분석
result = collect_and_analyze_stock("삼성전자", "2024-01-01", "2024-01-31")

# 최근 7일 분석
result = get_recent_analysis("LG전자", days=7)
```

### 3. ECOS API 키 설정 (선택사항)
한국은행 ECOS API 키를 `.env` 파일에 설정하면 실제 경제지표를 사용할 수 있습니다.
```bash
# .env 파일에 추가
ECOS_API_KEY=your_actual_ecos_api_key_here
```

## 출력 예시

```
국내주식 분석 리포트: 삼성전자
==================================================

분석 기준일: 2024년 01월 31일
분석 시점: 2024-01-31 15:30
총 분석 기사: 25개

주요 호재 요인 (3개):
1. 삼성전자, AI 반도체 대규모 투자 발표 (신뢰도: high, 점수: 2.0)
2. 새로운 메모리 기술 특허 승인 (신뢰도: medium, 점수: 1.0)
3. 분기 실적 개선 전망 (신뢰도: medium, 점수: 1.0)

주요 악재 요인 (2개):
1. 중국 시장 규제 강화 우려 (신뢰도: medium, 점수: -1.0)
2. 메모리 가격 하락 지속 (신뢰도: high, 점수: -2.0)

거시경제 지표 현황:
- 기준금리: 3.5 (→ 0.0%)
- 소비자물가지수: 105.2 (↑ 0.8%)
- 달러환율: 1325.5 (↓ -1.2%)

종합 의견:
전체 심리: POSITIVE
전반적으로 긍정적인 요인이 우세합니다. 원화 강세로 수입 의존 기업에는 유리하나 수출기업에는 불리할 수 있습니다.
==================================================
```

## 주요 특징

- **캐싱 시스템**: 동일 조건 재실행 시 캐시 사용으로 빠른 응답
- **중복 제거**: 제목 기반 중복 기사 자동 필터링
- **신뢰도 평가**: 공식 발표와 루머 구분으로 정확성 향상
- **한글 최적화**: 한국어 뉴스 및 경제 용어에 최적화
- **모듈화**: 각 기능별 독립적 사용 가능

## 테스트 실행

```bash
python -m pytest tests/
# 또는
python -m unittest tests.test_analyzer
```

## 주의사항

1. 웹 크롤링은 해당 사이트의 robots.txt 및 이용약관을 준수해야 합니다.
2. ECOS API 사용 시 한국은행에서 제공하는 API 키가 필요합니다.
3. 분석 결과는 참고용이며 투자 결정에 대한 책임은 사용자에게 있습니다.
4. 과도한 요청은 IP 차단의 원인이 될 수 있으니 적절한 간격으로 사용하세요.

## 라이선스

이 프로젝트는 교육 및 연구 목적으로 제작되었습니다.# market-news-validator
